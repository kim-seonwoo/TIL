# 24.02.23

# **View Protocol**

**@ViewBuilder**

- @resultBuilderÎ•º ÏÇ¨Ïö©ÌïòÏó¨ Ï†ïÏùòÌïú struct Ìòï
- bodyÎäî ViewBuilderÎ°ú Ï†ïÏùòÎêòÏñ¥ ÏûàÍ≥†, Ïù¥Í≤ÉÏùÄ @resultBuilderÎ•º ÏÇ¨Ïö©ÌñàÏúºÎØÄÎ°ú ÏïÑÎûòÏ≤òÎüº ÏΩ§Îßà ÏóÜÏù¥ Î∑∞Î•º ÎÇòÏó¥ÌïòÏó¨ ÏÇ¨Ïö©Ìï†ÏàòÍ∞Ä ÏûàÏùå
- ViewÏùò ÌäπÏßïÏùÄ classÌòïÌÉúÍ∞Ä ÏïÑÎãå, value typeÏùÑ ÏÇ¨Ïö©ÌïòÍ∏∞ ÏúÑÌï¥ÏÑú StructÎ°ú Ï†ïÏùò

**SwiftUIÏóêÏÑú Î∑∞Îì§ÏùÑ StructÏúºÎ°ú Ï†ïÏùòÌïòÎäî Ïù¥Ïú†?
‚Üí Í∞ÑÌé∏ÌïòÎã§ ! :  Î¨¥Í≤ÅÍ≤å ÏÉÅÏÜçÏùÑ ÌïòÎäî Í∏∞Ï°¥Ïùò UIViewÏôÄ Îã§Î•¥Í≤å SwiftUIÏùò ViewÎäî ViewModeifier Í∞úÎÖêÏùÑ Ïù¥Ïö©Ìï¥ Ïª¥Ìè¨ÎÑåÌä∏Ìôî Ìï¥ÏÑú ÏµúÏÜåÌôî**

‚Üí Struct! : Value TypeÏùÑ Ïù¥Ïö©ÌïòÏó¨ Í∞ÄÎ≥ÄÏÑ±ÏùÑ ÏµúÏÜåÌôî Ìï®, ÎòêÌïú Î©îÎ™®Î¶¨ Î¶≠ Î∞©ÏßÄÏóê Ìö®Í≥ºÏ†ÅÏûÑ.

# **Localization, ViewModifier, Text ViewModifiers Í∞úÎÖê**

## **Localization**

- SwiftUIÏóêÏÑúÎäî Í∑∏ÎÉ• TextÏóê ÌÇ§Î•º ÏÇ¨Ïö©ÌïòÏó¨ Ï†ÅÏö©
- UIKitÏ≤òÎüº NSLocalizedStringÏùÑ Îî∞Î°ú Ïì∞ÏßÄ ÏïäÏïÑÎèÑ Ìé∏Î¶¨ÌïòÍ≤å Ï†ÅÏö©Ïù¥ Í∞ÄÎä•
- Localizable.stringsÎ°ú String fileÏùÑ ÏÉùÏÑ±Ìï¥ Ï§ÄÎã§.
- Localize Î≤ÑÌäºÏùÑ ÌÅ¥Î¶≠ÌïòÍ≥†, Project > LocalizationsÏóê + Î≤ÑÌäºÏùÑ ÌÅ¥Î¶≠ÌïòÏó¨ ÏßÄÏó≠ÌôîÎ•º Ï∂îÍ∞Ä Í∞ÄÎä•
- Text Í∞íÏóê Îî∞Î°ú Î∞îÎ°ú Î¶¨ÌÑ∞Îü¥Î°ú Ïó∞Í≤∞

```swift
Text("my_text")
```

```swift
ContentView()
        .environment(\.locale, .init(identifier: "en"))
```

- Îã§ÏùåÍ≥º Í∞ôÏù¥ ÌîÑÎ¶¨Î∑∞ÏóêÏÑúÎèÑ ÏâΩÍ≤å ÏßÄÏó≠Ìôî ÏÑ§Ï†ïÏùÑ Ìï† Ïàò ÏûàÎã§.

## ViewModifier

- SwiftUIÏóêÏÑúÎäî ViewÎì§Ïù¥ ClassÍ∞Ä ÏïÑÎãå StructÏóêÏÑú ÏÇ¨Ïö©Ìï† Ïàò ÏûàÍ∏∞ ÎïåÎ¨∏Ïóê ÏÉÅÏÜçÏù¥ Î∂àÍ∞ÄÎä•ÌïòÏó¨, ÎåÄÏã† `Modifier`ÎùºÎäî Í∞úÎÖêÏùÑ Ï†ïÏùò
- ViewModifierÎûÄ ÏõêÎûòÏùò ViewÏóê Ïª§Ïä§ÌÖÄ Î∑∞Ï≤òÎüº ÎØ∏Î¶¨ Ï†ïÏùòÌï¥ÎÜìÍ≥† Ïù¥Í≤ÉÏùÑ Îã§Î•∏ TextÏóêÏÑú Í∞ÄÏ†∏Îã§Í∞Ä ÏÇ¨Ïö©Ìï† Ïàò ÏûàÎäî Í∏∞Îä• (= ÏÉÅÏÜç Í∏∞Îä•)

## **Text ViewModifier**

- **ViewModifierÎ•º Ïù¥Ïö©ÌïòÏó¨ Ïª§Ïä§ÌÖÄ Î∑∞ ÎπÑÏä∑ÌïòÍ≤å? ÎßåÎì§ Ïàò ÏûàÎã§**
- ÏÇ¨Ïö© Ïòà

```swift
import SwiftUI

struct MyTextModifier: ViewModifier {
  func body(content: Content) -> some View {
    content
      .font(.system(size: 24, weight: .bold, design: .default))
      .foregroundColor(.blue)
  }
}
```

```swift
struct ContentView: View {
  var body: some View {
    Text("my_text")
      .modifier(MyTextModifier())
  }
}
```

- Î∞òÎ≥µÎêòÎäî Ïä§ÌÉÄÏùºÎßÅÏùÑ Îã®ÏàúÌôîÌï† Ïàò ÏûàÏùÑ Í≤ÉÏù¥ÎùºÍ≥† ÏÉùÍ∞ÅÎê®!

# TextField

- Í∞íÏùÑ ÏûÖÎ†•Î∞õÏùÑ Ïàò ÏûàÎäî Ïª¥Ìè¨ÎÑåÌä∏
- SwiftUIÏóêÏÑúÎäî @State ÏÉÅÌÉú ÌîÑÎ°úÌçºÌã∞ ÌïòÎÇòÎ•º ÎëêÍ≥† Í∞íÏù¥ ÏûÖÎ†•ÎêòÎ©¥ Ïó¨Í∏∞ÏóêÎèÑ ÏûÖÎ†•ÎêòÎèÑÎ°ù Íµ¨ÌòÑ

```swift
enum Field {
    case username
    case email
  }

@State private var username = ""
@State private var email = ""

@FocusState private var focusField: Field?

  var body: some View {
    VStack {
      TextField(
        "User name",
        text: $username
      )
      .focused($focusField, equals: .username)
      
      TextField(
        "Email",
        text: $email
      )
      .focused($focusField, equals: .email)
      
      ...

Button("Sign in") {
        if username.isEmpty {
          focusField = .username
        } else if email.isEmpty {
          focusField = .email
        } else {
          print("Complete Input and sign in...")
        }
      }
```

- @FocusStateÎ•º Ïù¥Ïö©ÌïòÏó¨ ÌÖçÏä§Ìä∏ ÌïÑÎìúÏóê ÎåÄÌïú Ìè¨Ïª§Ïä§Î•º Ï†úÏñ¥Ìï† Ïàò ÏûàÎã§.
- `.focused($focusField, equals: .username)` Í≥º Í∞ôÏù¥ Î∞îÏù∏Îî©ÏùÑ ÏãúÏºúÏ§òÏïºÌï®Ïóê Ïú†Ïùò!

## ÌÇ§Î≥¥Îìú Ïà®Í∏∞Í∏∞

```swift
extension View {
  func hideKeyboard() {
    UIApplication.shared.sendAction(#selector(UIResponder.resignFirstResponder), to: nil, from: nil, for: nil)
  }
}
```

# Image

- Í≥µÍ∞ÑÏóê ÎßûÍ≤å Ïù¥ÎØ∏ÏßÄ ÌÅ¨Í∏∞Î•º Ï°∞Ï†ïÌïòÎäî Î™®Îìú ÏÑ§Ï†ï
    - resizable()Î•º ÏÑ†Ïñ∏
    - ÌôîÎ©¥Ïóê ÎßûÏ∂îÏñ¥ÏÑú Ï±ÑÏõåÏßÄÎäî Ìö®Í≥º
- .scaledToFit() == .aspectRatio(contentMode: .fit)

# Button

- Î≤ÑÌäº Ïä§ÌÉÄÏùºÏóêÎäî 5Í∞ÄÏßÄÍ∞Ä Ï°¥Ïû¨
    - .default - ÌååÎûÄÏÉâ Î≤ÑÌäº
    - .plain - ÏùºÎ∞ò Text ÌòïÌÉú Í∑∏ÎåÄÎ°ú Îî∞ÎùºÍ∞ÄÎäî Î≤ÑÌäº
    - .bordered - Î≤ÑÌäºÏùò tintÏÉâÏÉÅÏùÑ Í∏∞Î∞òÏúºÎ°ú ÏûêÎèôÏúºÎ°ú ÌÖåÎëêÎ¶¨Ïóê Ïñ¥Ïö∏Î¶¨Îäî ÏÉâÏÉÅÏù¥ ÏÉùÍ∏∞Îäî Î≤ÑÌäº
    - .borderedProminent - Î≤ÑÌäºÏùò tintÏÉâÏÉÅÏùÑ Í∏∞Î∞òÏúºÎ°ú ÌÖçÏä§Ìä∏Í∞Ä `ÎààÏóê ÎùÑÎèÑÎ°ù` Ìï¥Ï£ºÎäî Ïä§ÌÉÄÏùº
    - .borderless - ÌÖåÎëêÎ¶¨Í∞Ä ÏóÜÎäî Î≤ÑÌäº (= .defaultÏôÄ ÎèôÏùº)

## Ïª§Ïä§ÌÖÄ Î≤ÑÌäº

```swift
struct ScaleButton: ButtonStyle {
  func makeBody(configuration: Configuration) -> some View {
    <#code#>
  }
}
```

```swift
struct InsetRoundButton: ButtonStyle {
  var labelColor = Color.white
  var backgroundColor = Color.blue
  
  func makeBody(configuration: Configuration) -> some View {
    configuration.label
      .foregroundColor(labelColor)
      .padding(.init(horizontal: 20, vertical: 13))
      .background(Capsule().fill(backgroundColor)) // <-
  }
}
```

```swift
Button("InsetRoundButton") {
  print("tap button")
}
.buttonStyle(InsetRoundButton(labelColor: .white, backgroundColor: .blue))
```

# Picker

- Í∞úÎÖê: ÏÉÅÌò∏ Î∞∞ÌÉÄÏ†ÅÏù∏ Í∞íÎì§ÏùÑ ÏÑ†ÌÉùÌï†Îïå ÏÇ¨Ïö©ÌïòÎäî UI
- ÏÇ¨Ïö©Ïòà

```swift
Picker("Flavor", selection: $selectedFlavor) {
  ForEach(Flavor.allCases) { Text($0.rawValue.capitalized) }
}
.pickerStyle(.wheel)
```

# **NavigationView, NavigationLink**

# **Layout, Presentation**

# Stack

## **@unknown**¬†Î®ºÏ†Ä ÏïåÍ∏∞

- enumÌÉÄÏûÖÏùÑ Ï†ëÍ∑ºÌïòÎäî switch-caseÎ¨∏ÏóêÏÑú ÏÇ¨Ïö©ÎêòÎäî ÌÇ§ÏõåÎìú
- Ï∂îÍ∞ÄÏ†ÅÏù∏ caseÍ∞Ä ÏÉùÍ≤ºÏùÑ Îïå, Í∏∞Ï°¥Ïóê switch-caseÎ¨∏ÏóêÏÑú Ìï¥Îãπ caseÎ•º ÏÑ†Ïñ∏ÌïòÏßÄ ÏïäÍ≥† @unknown defaultÎ°ú ÏÑ†Ïñ∏Ìï¥ ÎÜìÏúºÎ©¥ ÏÇ¨Ïö©ÌïòÎäî Ï™ΩÏóêÏÑú warning Î©îÏãúÏßÄÎ•º Î∞õÏïÑÎ≥º Ïàò ÏûàÏñ¥ Ïù∏ÏßÄÌï† Ïàò¬†ÏûàÍ≤åÎÅî ÌïòÎäî ÌÇ§ÏõåÎìú
- Í∑∏ÎÉ• defaultÎßå ÏÇ¨Ïö©ÌïòÎ©¥ Ïñ¥Îñ§ ÏÉàÎ°ú Ï∂îÍ∞ÄÎêòÎäî caseÍ∞Ä ÏûàÎäîÏßÄ Î™®Î•¥ÏßÄÎßå, @unlnown defaultÎ•º ÏÇ¨Ïö©ÌïòÎ©¥ Ï∂îÍ∞ÄÏ†ÅÏù∏ caseÎ¨∏Ïù¥ ÏûàÎã§Í≥† warningÎ©îÏãúÏßÄÎ°ú ÏïåÎ†§Ï£ºÎäî Í∏∞Îä•

## frozen: ÏñºÏùÄ ÏÉÅÌÉú

- (enum ÌÉÄÏûÖÏóêÏÑú caseÍ∞Ä Ï∂îÍ∞ÄÏ†ÅÏúºÎ°ú ÏÉùÍ≤®ÎÇòÏßÄ ÏïäÏùÑ Í≤ÉÏûÑÏùÑ Î™ÖÏãú)
- Ïª¥ÌååÏùºÎü¨Îäî ÎçîÏö± Ìö®Ïú®Ï†ÅÏúºÎ°ú Ïª¥ÌååÏùº
- Library Evolution modeÍ∞Ä ÏïàÏºúÏ†∏ÏûàÏúºÎ©¥ ÌÇ§ÏõåÎìúÎ•º ÏïàÏç®ÎèÑ ÏïîÎ¨µÏ†ÅÏúºÎ°ú Î™®Îëê @frozenÏúºÎ°ú ÏÉùÏÑ±

# **List**

## MultiSelection

```swift
import SwiftUI

struct Ocean: Identifiable {
  var name: String
  let id = UUID()
}

struct Sea: Hashable, Identifiable {
  let name: String
  let id = UUID()
}

struct OceanRegion: Identifiable {
  let name: String
  let seas: [Sea]
  let id = UUID()
}

struct FileItem: Hashable, Identifiable, CustomStringConvertible {
  var id: Self { self }
  var name: String
  var children: [FileItem]? = nil
  var description: String {
    switch children {
    case nil:
      return "üìÑ \(name)"
    case .some(let children):
      return children.isEmpty ? "üìÇ \(name)" : "üìÅ \(name)"
    }
  }
}

struct ContentView: View {
  @State private var multiSelection = Set<UUID>()
  @State private var isOn = false
  @State private var singleSelection: UUID?
  
  private var oceans = [
    Ocean(name: "Pacific"),
    .init(name: "Atlantic"),
    .init(name: "Indian"),
    .init(name: "Southern"),
    .init(name: "Arctic"),
  ]
  
  private let oceanRegions: [OceanRegion] = [
    OceanRegion(name: "Pacific",
                seas: [Sea(name: "Australasian Mediterranean"),
                       Sea(name: "Philippine"),
                       Sea(name: "Coral"),
                       Sea(name: "South China")]),
    OceanRegion(name: "Atlantic",
                seas: [Sea(name: "American Mediterranean"),
                       Sea(name: "Sargasso"),
                       Sea(name: "Caribbean")]),
    OceanRegion(name: "Indian",
                seas: [Sea(name: "Bay of Bengal")]),
    OceanRegion(name: "Southern",
                seas: [Sea(name: "Weddell")]),
    OceanRegion(name: "Arctic",
                seas: [Sea(name: "Greenland")])
  ]
  
  let fileHierarchyData: [FileItem] = [
    FileItem(name: "users", children:
              [FileItem(name: "user1234", children:
                          [FileItem(name: "Photos", children:
                                      [FileItem(name: "photo001.jpg"),
                                       FileItem(name: "photo002.jpg")]),
                           FileItem(name: "Movies", children:
                                      [FileItem(name: "movie001.mp4")]),
                           FileItem(name: "Documents", children: [])
                          ]),
               FileItem(name: "newuser", children:
                          [FileItem(name: "Documents", children: [])
                          ])
              ]),
    FileItem(name: "private", children: nil)
  ]
  
  var body: some View {
    // MARK: Basic
    //    List {
    //      Text("A List Item")
    //      Text("A Second List Item")
    //      Text("A Third List Item")
    //    }
    
    // MARK: Selections
    //    NavigationView {
    //      List(oceans, selection: $multiSelection) {
    //        Text($0.name)
    //      }
    //      .navigationTitle("Oceans")
    //      .toolbar { EditButton() }
    //    }
    //    Text("\(multiSelection.count) selections")
    
    // MARK: Refresh
    //    NavigationView {
    //      VStack {
    //        List(oceans, selection: $multiSelection) {
    //          Text($0.name)
    //        }
    //        .navigationTitle("Oceans")
    //        .refreshable {
    //          await getSomeData()
    //        }
    //        Toggle("Toggle", isOn: $isOn)
    //      }
    //    }
    
    // MARK: Section
    //    NavigationView {
    //      List(selection: $singleSelection) {
    //        ForEach(oceanRegions) { region in
    //          Section(
    //            content: {
    //              ForEach(region.seas) { sea in
    //                Text(sea.name)
    //              }
    //            },
    //            header: {
    //              Text("Header \(region.name)")
    //            }
    //          )
    //        }
    //      }
    //    }
    
    // MARK: Hierarchical List
    List(fileHierarchyData, children: \.children) { item in
      Text(item.description)
    }
  }
  
  func getSomeData() async {
    await Task.sleep(3_000_000_000) // 3seconds
    isOn.toggle()
  }
}

struct ContentView_Previews: PreviewProvider {
  static var previews: some View {
    ContentView()
  }
}
```

# ForEach

```swift
private struct NamedFont: Identifiable {
    let name: String
    let font: Font
    var id: String { name }
  }
  private let namedFonts: [NamedFont] = [
    NamedFont(name: "Large Title", font: .largeTitle),
    NamedFont(name: "Title", font: .title),
    NamedFont(name: "Headline", font: .headline),
    NamedFont(name: "Body", font: .body),
    NamedFont(name: "Caption", font: .caption)
  ]

var body: some View {
    ForEach(namedFonts) { namedFont in
      Text(namedFont.name)
        .font(namedFont.font)
    }
  }
```
24
# Form

- FormÏùÄ Îß§Ïö∞ ÏßÅÍ¥ÄÏ†ÅÏúºÎ°ú ÏÑ§Ï†ïÌôîÎ©¥ÏóêÏÑú ÏÇ¨Ïö©ÎêòÎäî Í∏∞Îä•Îì§ÏùÑ ÏâΩÍ≤å Íµ¨ÌòÑÌï† Ïàò ÏûàÎäî Ïª¥Ìè¨ÎÑåÌä∏
- SectionÍ≥º Í∞ôÏù¥ ÏÇ¨Ïö©ÎêòÎ©∞ ÏâΩÍ≤å Í∑∏Î£πÌôîÍ∞Ä Í∞ÄÎä•