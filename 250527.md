## âœ… ìƒíƒœê´€ë¦¬ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ë¦¬í¬íŠ¸ (Zustand ê¸°ë°˜)

### ðŸ“Œ ë¬¸ì œ 1: `user.ball` ê°’ì´ ì¤„ì–´ë“¤ì§€ ì•ŠìŒ

**ìƒí™©**

- ê³µì„ ë˜ì§€ëŠ” `throwBall()` ë¡œì§ì—ì„œ `decreaseBall()`ì„ í˜¸ì¶œí–ˆì§€ë§Œ, í™”ë©´ì— ë³´ì—¬ì§€ëŠ” `ball` ê°’ì´ ì¤„ì–´ë“¤ì§€ ì•ŠìŒ
- App Store ì‹¬ì‚¬ì—ì„œ "ballì´ 0ì¸ë°ë„ ë˜ì§ˆ ìˆ˜ ìžˆë‹¤"ëŠ” ë²„ê·¸ ë¦¬ì  ë°œìƒ

**ì›ì¸**

- `useAuthStore()`ë¥¼ í›… ë°”ê¹¥ì—ì„œ êµ¬ì¡°ë¶„í•´ í• ë‹¹í•˜ë©´ì„œ `user`ì˜ ê°’ì„ í•œ ë²ˆë§Œ ìº¡ì²˜
- ì´í›„ ìƒíƒœê°€ ë³€ê²½ë˜ì–´ë„ `user.ball`ì€ **ê°±ì‹ ë˜ì§€ ì•Šì€ ê°’**ì„ ê³„ì† ì‚¬ìš©

**í•´ê²°**

```ts
const latestUser = useAuthStore.getState().user;
```

â†’ ìµœì‹  ìƒíƒœë¥¼ ì§ì ‘ ì¡°íšŒí•˜ë„ë¡ ìˆ˜ì •
ë˜ëŠ” ì„œë²„ ì‘ë‹µì˜ `updatedBall` ê°’ë§Œì„ ë°˜ì˜í•˜ì—¬ ìƒíƒœ ì¼ê´€ì„±ì„ ìœ ì§€

---

### ðŸ“Œ ë¬¸ì œ 2: ê´‘ê³  ë³´ìƒ í›„ ê³µ ê°œìˆ˜ê°€ UIì— ë°˜ì˜ë˜ì§€ ì•ŠìŒ

**ìƒí™©**

- ê´‘ê³  ì‹œì²­ í›„ ì„œë²„ì—ì„œ ê³µ 10ê°œë¥¼ ì§€ê¸‰í•˜ëŠ” `rewardUserWithBall()` í˜¸ì¶œ
- ê³µì´ ì§€ê¸‰ë˜ì—ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  í™ˆ í™”ë©´ì—ì„œëŠ” ê³µ ê°œìˆ˜ê°€ ê·¸ëŒ€ë¡œ

**ì›ì¸**

- ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ì§€ ì•Šê³  `user` ê°ì²´ì˜ ë³€ê²½ì„ UIì— ë°˜ì˜í•˜ë ¤ í•¨
- `setUser()` í˜¸ì¶œì´ ì—†ì—ˆê¸° ë•Œë¬¸ì— `user` ìƒíƒœê°€ ë³€ê²½ë˜ì§€ ì•ŠìŒ â†’ ì»´í¬ë„ŒíŠ¸ë„ ë¦¬ë Œë”ë§ ì•ˆ ë¨

**í•´ê²°**

```ts
const updatedUser = await rewardUserWithBall(user.id);
setUser(updatedUser);
```

â†’ ì„œë²„ ì‘ë‹µìœ¼ë¡œ ë°›ì€ ì „ì²´ ìœ ì € ê°ì²´ë¥¼ ìƒíƒœì— ì €ìž¥í•¨ìœ¼ë¡œì¨ ì¦‰ì‹œ ë°˜ì˜

---

### ðŸ“Œ ë¬¸ì œ 3: `setUser({ ...user, ball: updatedBall })`ê°€ ìž‘ë™í•˜ì§€ ì•ŠìŒ

**ìƒí™©**

- `setUser({ ...user, ball: updatedBall })`ë¥¼ í˜¸ì¶œí–ˆëŠ”ë°ë„ ìƒíƒœê°€ ì´ìƒí•˜ê²Œ ìž‘ë™í•˜ê±°ë‚˜ ë°˜ì˜ ì•ˆ ë¨

**ì›ì¸**

- `user`ê°€ ì˜¤ëž˜ëœ ì°¸ì¡°ê°’ì´ë¼ ì´ë¯¸ `decreaseBall()`ì´ë‚˜ ë‹¤ë¥¸ ë¡œì§ì— ì˜í•´ ë°”ë€ ìƒíƒœì™€ ì–´ê¸‹ë‚¨
- ê²°êµ­ ìƒˆë¡œ ì„¸íŒ…ëœ `user`ê°€ ì˜¤ëž˜ëœ ê°’ì„ ë®ì–´ì”€ â†’ ball ê°’ ë¡¤ë°±

**í•´ê²°**

- ìƒíƒœ ì—…ë°ì´íŠ¸ ì‹œ **í•­ìƒ ìµœì‹  user ìƒíƒœ**ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•´ì•¼ í•¨

```ts
const latestUser = useAuthStore.getState().user;
setUser({ ...latestUser, ball: res.updatedBall });
```

---

## ðŸ§  ë°°ìš´ ì  ìš”ì•½

| ë¬¸ì œ                          | ì›ì¸                        | í•´ê²°                                           |
| ----------------------------- | --------------------------- | ---------------------------------------------- |
| ìƒíƒœ ë¶ˆì¼ì¹˜                   | ì°¸ì¡°ëœ `user`ê°€ ìµœì‹ ì´ ì•„ë‹˜ | `useAuthStore.getState().user` ì‚¬ìš©            |
| UI ë¯¸ë°˜ì˜                     | `setUser()` ëˆ„ë½            | ì„œë²„ ì‘ë‹µ í›„ ë°˜ë“œì‹œ `setUser()` í˜¸ì¶œ           |
| ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ ë¶ˆì¼ì¹˜ | ìƒíƒœ ì¤‘ë³µ ì—…ë°ì´íŠ¸          | ì„œë²„ ì‘ë‹µë§Œ ì‹ ë¢°í•˜ëŠ” êµ¬ì¡°ë¡œ í†µì¼               |
| ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§ ì•ˆ ë¨       | Zustand ìƒíƒœ êµ¬ë… ëˆ„ë½      | `(state) => state.user?.ball` ë“± selector ì‚¬ìš© |

---
